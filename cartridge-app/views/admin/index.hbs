{{> background}}
{{> navigation}}
{{> mobilemenu}}

<section class="admin">
  <div class="admin-container">
    <div class="admin-header">
      <h1>Admin Dashboard</h1>
      <a href="/admin/add" class="admin-button add">Add New Cartridge</a>
    </div>
    
    {{#if success}}
      <div class="alert success">{{success}}</div>
    {{/if}}
    
    {{#if error}}
      <div class="alert error">{{error}}</div>
    {{/if}}
    
    <div class="admin-table-container">
      <table class="admin-table">
        <thead>
          <tr>
            <th>Image</th>
            <th>Title</th>
            <th>Developer</th>
            <th>Genre</th>
            <th></th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          {{#if cartridges.length}}
            {{#each cartridges}}
              <tr>
                <td class="admin-image">
                  <img src="{{this.image}}" alt="{{this.title}}" width="50">
                </td>
                <td>{{this.title}}</td>
                <td>{{this.developer}}</td>
                <td>{{this.genre}}</td>
                <td>
                  <a href="/admin/edit/{{this._id}}" class="admin-button edit">Edit</a>
                </td>
                <td>
                  <form action="/admin/delete/{{this._id}}" method="POST" class="delete-form">
                    <button type="submit" class="admin-button delete" onclick="return confirm('Are you sure you want to delete this cartridge?');">Delete</button>
                  </form>
                </td>
              </tr>
            {{/each}}
          {{else}}
            <tr>
              <td colspan="5" class="no-data">No cartridges found.</td>
            </tr>
          {{/if}}
        </tbody>
      </table>
    </div>
  </div>
</section>

{{> footer}}